---
import spotsData from "@/data/spots.json"
import Spot from "@/features/Spot/Spot.astro"
import AppLayout from "@/layouts/AppLayout/AppLayout.astro"
import LayoutWithBreadcrumbs from "@/layouts/LayoutWithBreadcrumbs/LayoutWithBreadcrumbs.astro"
import type { SpotData } from "@/types"
import { getSpotsStaticProps } from "@/utils"

export const getStaticPaths = () => {
  const { spotProps } = getSpotsStaticProps(spotsData, "yamanashi")
  return spotProps
}

type Props = SpotData & {
  spotIndex: number
}

const props = Astro.props

const meta = {
  title: props.title,
  description: props.content,
}
---

<AppLayout meta={meta} theme={"yamanashi"}>
  <LayoutWithBreadcrumbs
    page={"spotPage"}
    area={"yamanashi"}
    spotIndex={props.spotIndex}
    className={"md:pt-[60px] lg:pt-[64px]"}
    size={"xl"}
  >
    <Spot className={"mt-[45px] md:mt-[29px] lg:mt-[50px]"} {...props} />
  </LayoutWithBreadcrumbs>
</AppLayout>
